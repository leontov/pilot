# Kolibri Studio — UX-исследование и обновлённая архитектура

## 1. Цели и методика исследования
- **Цель:** понять, как продуктовые команды используют Kolibri Studio в сценариях демонстрации Δ-VM, анализа памяти и синтеза программ.
- **Методы:**
  - ревью текущего интерфейса и UX-антипаттернов;
  - интервью с внутренними пользователями (инженеры Δ-VM, исследователи синтеза, продукт-менеджер демонстраций);
  - экспресс-юзабилити тест (5 участников) на ключевых сценариях: запуск диалога, чтение памяти, проверка блоков.
- **Ключевые инсайты:**
  - пользователям не хватает единой шапки с контекстом активного режима и глобального поиска;
  - вкладка «Диалог» используется как консоль: важны история и быстрый фильтр по времени;
  - F-KV Explorer должен сразу подсвечивать найденные значения и давать представление о дереве префиксов.

## 2. Персоны и пользовательские сценарии
| Персона | Цель | Основные шаги |
| --- | --- | --- |
| Инженер Δ-VM | Проверить корректность ответа на формулу | Открыть «Диалог» → ввести выражение → посмотреть трассировку → повторить с вариацией |
| Исследователь синтеза | Найти программу с высоким PoE | Открыть «Программы» → выбрать фильтр по score → просмотреть байткод → отправить на Δ-VM |
| Демонстратор продукта | Провести живое демо | Запустить Kolibri Studio → рассказать о вкладках → показать F-KV дерево и историю запросов |

### Ключевые сценарии для первых доработок
1. **Диалог с Δ-VM:** отправка формулы, просмотр трассировки, анализ последних запросов.
2. **Обзор памяти F-KV:** ввод префикса, анализ дерева значений, просмотр связанных программ.
3. **Навигация по продукту:** быстрое переключение между вкладками, понимание контекста активного режима.

## 3. Информационная архитектура
```
Kolibri Studio
├─ Диалог — консоль Δ-VM, история запросов, фильтры времени, поиск
├─ Память — ввод префикса, дерево F-KV, таблицы значений и программ, top-K графики
├─ Программы — редактор байткода, метрики PoE/MDL, отправка в Δ-VM
├─ Синтез — визуализация поиска, активные задачи, графы состояний
├─ Блокчейн — таймлайн блоков, статусы PoU
├─ Статус — метрики узла, аптайм, память, peers
└─ Кластер — карта соседей, репутация, подключения
```
- Заголовок приложения теперь содержит бренд Kolibri Ω, быстрый доступ к переключению темы и краткое описание активной вкладки.
- Для вкладок определены слоты описаний, подсказок и контекстных действий.
- Введён глобальный шаблон панелей: заголовок → описание → основной контент → вспомогательные элементы.

## 4. Дизайн-система Kolibri Ω (базовые токены)
| Категория | Токены |
| --- | --- |
| Цвета | `--color-bg`, `--color-surface`, `--color-surface-alt`, `--color-border`, `--color-accent`, `--color-danger`, `--color-success` |
| Типографика | `--font-sans`, `--font-mono`, `--font-size-base`, `--font-size-sm`, `--font-size-lg`, `--line-height-base` |
| Отступы | `--space-xs` (4px), `--space-sm` (8px), `--space-md` (16px), `--space-lg` (24px), `--space-xl` (32px) |
| Радиусы | `--radius-md`, `--radius-lg`, `--radius-pill` |
| Тени | `--shadow-soft`, `--shadow-raised` |

### Принципы использования
- **Композиция:** каждый экран собирается из панелей, использующих одни и те же токены отступов и радиусов.
- **Цветовые пары:** акцент (`--color-accent`) используется для интерактивных элементов, мягкие поверхности — для фоновых блоков.
- **Светлая/тёмная тема:** переключение на уровне `data-theme`, все компоненты используют только токены.
- **Типографика:** заголовки — `font-weight: 700`, основной текст — `400`, моноширинный текст — только через `--font-mono`.

## 5. План следующих итераций
1. Формализация гайдлайнов компонентов (кнопки, формы, карточки).
2. Расширение дизайн-токенов на графику (цвета графов, сетки).
3. Подготовка Storybook со сценариями основных панелей.
